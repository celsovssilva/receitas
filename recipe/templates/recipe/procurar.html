{% extends "../base.html" %}

{% load static %}

{% block title %}Resultados da Pesquisa{% endblock %}

{% block content %}
  <div class="container">
    <h2>Pesquisar Receitas</h2>

    <form action="{% url 'procurar' %}" method="get" class="search-form">
      <input type="text" name="q" placeholder="Buscar por nome da receita..." value="{{ query|default:'' }}">
      <button type="submit">Pesquisar</button>
    </form>
    <hr>

    {% if query %}
        <p>Resultados para: <strong>"{{ query }}"</strong></p>
    {% endif %}

    {% if receitas %}
      <h3>Receitas Encontradas:</h3>
      <div class="receitas-list">
        {% for receita in receitas %}
            <div class="receita-card">
            <h4><a href="{% url 'detalhesdareceita' receita.pk %}">{{ receita.name }}</a></h4>
            <p>Tempo de Preparo: {{ receita.preparationtime }} minutos</p>
            {% if receita.fotos %}
              <img src="{{ receita.fotos.url }}" alt="{{ receita.name }}" class="receita-foto">
            {% else %}
              <p><em>Sem foto dispon√≠vel</em></p>
            {% endif %}
            </div>
        {% endfor %}
      </div>
    {% endif %}

  </div>
{% endblock %}

